<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>System Fail</title>

<style>
body{
    margin:0;
    background:black;
    overflow:hidden;
    font-family: monospace;
    color:#0f0;
}

/* Fragmentos de código */
.code-fragment{
    position:absolute;
    font-size:14px;
    opacity:0.15;
    user-select:none;
    pointer-events:none;
    animation: flicker 4s infinite;
}

@keyframes flicker{
    0%{opacity:0.1;}
    50%{opacity:0.25;}
    100%{opacity:0.1;}
}

/* Punto rojo */
#signal{
    position:fixed;
    top:15px;
    left:15px;
    width:18px;
    height:18px;
    background:red;
    border-radius:50%;
    box-shadow:0 0 10px red;
    cursor:pointer;
    animation: blink 2s infinite;
}

@keyframes blink{
    0%,100%{opacity:1;}
    50%{opacity:0.3;}
}

/* Movimiento leve */
.move{
    animation: drift 6s infinite alternate;
}

@keyframes drift{
    0%{transform:translate(0,0);}
    50%{transform:translate(3px,-2px);}
    100%{transform:translate(-2px,2px);}
}

/* Pantalla de falla */
#failScreen{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:black;
    color:red;
    display:none;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    font-size:2rem;
    text-align:center;
    animation: glitch 0.3s infinite;
}

@keyframes glitch{
    0%{transform:translate(0);}
    20%{transform:translate(-3px,3px);}
    40%{transform:translate(3px,-3px);}
    60%{transform:translate(-2px,2px);}
    80%{transform:translate(2px,-2px);}
    100%{transform:translate(0);}
}
</style>
</head>

<body>

<div id="signal" class="move"></div>

<div id="failScreen">
    <div>SYSTEM FAILURE</div>
    <div style="font-size:1rem;color:white;margin-top:20px;">
        Touch to continue...
    </div>
</div>

<script>

// -------- FRAGMENTOS DE CÓDIGO DECORATIVOS --------

const fragments = [
"0x004F3A",
"kernel.panic()",
"ERR_NULL_VOID",
"system.override(false)",
"segmentation_fault",
"void main(){}",
"exec >> corrupted",
"fatal_exception",
"inject.signal()",
"// memory leak",
"if(system==alive)",
"decrypt.fail"
];

for(let i=0;i<40;i++){
    const span = document.createElement("div");
    span.className="code-fragment";
    span.innerText = fragments[Math.floor(Math.random()*fragments.length)];
    span.style.top = Math.random()*100+"vh";
    span.style.left = Math.random()*100+"vw";
    span.style.fontSize = (10 + Math.random()*20)+"px";
    document.body.appendChild(span);
}

// --------- PUNTO ROJO HOLD ---------

let signal = document.getElementById("signal");
let holdTimer;
let holdTime = 1500;

signal.addEventListener("mousedown", startHold);
signal.addEventListener("touchstart", startHold);

signal.addEventListener("mouseup", cancelHold);
signal.addEventListener("mouseleave", cancelHold);
signal.addEventListener("touchend", cancelHold);

function startHold(){
    holdTimer = setTimeout(triggerFail, holdTime);
}

function cancelHold(){
    clearTimeout(holdTimer);
}

// -------- SECUENCIA DE FALLA --------

function triggerFail(){

    document.querySelectorAll(".code-fragment").forEach(e=>e.remove());
    signal.remove();

    let fail = document.getElementById("failScreen");
    fail.style.display="flex";

    let audio = new Audio();
    audio.src="https://assets.mixkit.co/sfx/preview/mixkit-glitch-distortion-2898.mp3";
    audio.play();

    document.body.style.background="black";
    document.body.style.color="red";
}

// -------- ESPERA TOQUE FINAL --------

document.getElementById("failScreen").addEventListener("click",()=>{
    window.location.href="https://tupaginagrotesca.com";
});

</script>

</body>
</html>
